% !TEX root = thesis.tex

\chapter{Background and related work}
\label{cha:background}

\section{Publication identifiers}
\label{sec:Publication identifiers}
In scientific publishing environment that is increasingly moving online, identifiers of scholarly works plays a major role.
Indeed articles may be hosted in different places on the web and often there is more than one version of an article available.
Identifiers are crucial to disambiguate articles that may share similar titles, or that  share the same set of authors because of homonymy.
There are many different types of identifier nowadays, some used more than others.
This research considers only four of them: \acs{DOI}, \acs{ISBN}, \emph{arXiv} identifier and \acs{PMID}.
The choice is based on their popularity in Wikipedia and on technical reasons.

The \acf{DOI} system was created by the International DOI Foundation and was adopted as International Standard (ISO 26324) in 2012.
It originated in a joint initiative of three trade associations in the publishing industry: the \acf{IPA}, the \acf{STM} and the \acf{AAP}.
Millions of \ac{DOI} names have been assigned to date, through a growing federation of Registration Agencies worldwide.
For example, the Crossref application is used by more than 4\,800 publishers and societies to enable cross-citation of scholarly publications; the DataCite international federation of data centres uses the \ac{DOI} system; and the Entertainment Identifier Registry applies \ac{DOI} names to film and broadcast assets.

The \acf{ISBN} was developed by the \acf{ISO} and was published in 1970 as the ISO 2108.
It originated from the \ac{SBN} code, a numeric commercial book identifier created by Gordon Foster, Emeritus Professor of Statistics at Trinity College, Dublin.
A unique \ac{ISBN} is assigned to every edition and variant of a book.

Wikipedia guidelines~\cite{wiki:doi_guideline} encourage the use of \acp{DOI} when available for journal sources, as well as the \ac{ISBN} references for book sources.

The \emph{arXiv} is a repository of electronic preprints of scientific papers in the fields of mathematics, physics, astronomy, computer science, quantitative biology, statistics, and quantitative finance, which can be accessed online.
In many fields of mathematics and physics, almost all scientific papers are self-archived on the arXiv.
At the time of writing, the archive counts more than one million articles.

Many references that appear in Wikipedia include the arXiv identifier, so it is included in our research.

Last but not least, the \acf{PMID} is a unique number assigned to each PubMed record.
PubMed is a free search engine accessing primarily the MEDLINE database of references and abstracts on life sciences and biomedical topics.
It provides quality control in scientific publishing. Only journals that meet PubMed's scientific standards are indexed.

In Wikipedia many journals citation in the medical field are inserted with the \ac{PMID} when available.



\section{Wikipedia}
\label{sec:wiki}
Wikipedia is a free-access, free-content Internet encyclopedia, supported and hosted by the non-profit Wikimedia Foundation.
Contributors can access the site can edit most of its articles.
Wikipedia is ranked among the ten most popular websites, and constitutes the Internet's largest and most popular general reference work.
A peer review~\cite{Giles2005} of 42 science articles found in both Encyclopædia Britannica and Wikipedia was published in Nature in 2005, and found that Wikipedia's level of accuracy approached Encyclopædia Britannica's.
Although Wikipedia is arguably the most successful project of the Wikimedia Foundation, there are other projects under its umbrella.
Among them we can find the following: Wiktionary, a project to create a multilingual free content dictionary in every language; Wikibooks, which aims to build a collection of free e-book resources, including textbooks, language courses, manuals, and annotated public domain books; Wikiversity, a project dedicated to learning materials and learning communities, as well as research.

In this section we describe the some of the entities that compose Wikipedia which are relevant to our analysis.

\paragraph{Pages}
The basic block of Wikipedia is the \emph{page}.
Pages are plain text document that can be customized using the wiki markup language, which is rendered when a user requests it.

A Wikipedia \emph{article}, or entry, is a page that contains encyclopedic information.
A well-written encyclopedia article identifies a notable encyclopedic topic, summarizes that topic comprehensively, contains references to reliable sources and links to other related topics.

\paragraph{Revisions}
Every time a \emph{contributor} edits a page, a new \emph{revision} is created.
It contains the text of the new version, as well as information about the contributor, the timestamp, the comment and others.

\paragraph{Namespaces}
Wikipedia pages are categorized under different \emph{namespaces}, according to their function.
To dictate the membership of a namespace, page titles are prefixed with the namespace followed by a colon.
For instance, user pages belongs to the ``User'' namespace, and their title is prefixed with the string \texttt{User:}.
The prefix is omitted for pages belonging to the main namespace, in which the encyclopedia articles appear.

At the time of writing, Wikipedia has 35 namespaces: 16 subject namespaces, 16 corresponding talk namespaces, 2 virtual namespaces, and 1 special namespace.
Subject namespaces group pages by their function.
For instance, the ``Template'' namespace contains templates devised to be included in articles and display information in an homogeneous way among articles.
Whenever a box is displayed inside an article, it has probably been generated by a template.
For every subject namespace (with the exception of ``Topic'') there is a corresponding ``Talk'' namespace.
In fact every page has a corresponding ``Talk'' page where users usually discuss about the content of the page and how to improve it.


Pages under the virtual namespaces (``Special'' and ``Media'') are not actually stored in the wikipedia database.
Special pages are created on demand by the MediaWiki software: for instance, the \texttt{Special:Log} lists the log of all the activities on Wikipedia.
Files like images, videos and other assets live under the ``Media'' namespace.

\paragraph{Contributors}
Wikipedia \emph{contributors} can either be humans or bots.
Human contributors are usually referred with the name \emph{Wikipedians}.
Bots are usually employed to to repetitive and mundane tasks, such as correcting obvious typos, updating listified pages of categories or revert vandalisms.
At the time of writing the English Wikipedia has more than 27 millions users\footnote{\url{https://en.wikipedia.org/wiki/Wikipedia:Wikipedians}} registered.
However, only a minority contributes regularly (0,4\% of users edited a page in the last month).

\paragraph{Redirects}
A \emph{redirect} is a page that has no content itself but sends the reader to another page, usually an article or a section of an article.
Redirects can be created for many reasons, among which:

\begin{itemize}
    \item Alternative names: an entity may be known as different names.
    For instance, the page \emph{Edison Arantes do Nascimento} is a redirect to \emph{Pelé}, which is the most appropriate article title according to Wikipedia rules.
    \item Abbreviations: some terms have an abbreviate form: for instance, \emph{US} is an abbreviation for \emph{United States}.
    According to Wikipedia guidelines, the title should be the the extended name, therefore a redirect from the abbreviation is created.
    \item Alternative spellings: there are names that refer to the same entity, for example \emph{Color} and \emph{Colour}.
    \item Likely misspellings: some names are commonly misspelled, and in order to not give an error page to the user, they redirects to the correctly spelled page.
    \item Technical reasons: some redirects are created because of technical issues.
    For example, there are redirects for pages with non-ASCII letters that have only ASCII letters in the title.
    Another reason is because of the software underneath Wikipedia.
    First versions of ``UseModWIki'' needed pages to use the ``CamelCase'' convention for the name~\cite{wiki:camelcase}.
    This is not an issue anymore, but old page names are kept and they redirect to the non-camelcase name.
\end{itemize}

To mark a page as a redirect, it is necessary to include the string
\mintinline{text}{#redirect: [[Target]]} inside its source, where \emph{Target} is the page to which the reader will be redirected.

A recent study by Hill et al.~\cite{Hill2014} shows that redirect pages play an important role in Wikipedia, and must keep in consideration when analyzing it.
They studied the work of Priedhorsky et al.~\cite{Priedhorsky2007} \todo{read it, confirm it}, where a surprisingly weak correlation between page edits and views have been found.
Hill et al. reproduced the analysis accounting for redirects and showed that the correlation is higher than the one discovered by the original authors.

The paper also discovered that 55\% of Wikipedia articles are redirects.
We have replicated their work using the latest data available and results are consistent with the original ones: at the time of writing, the 59\% of Wikipedia articles are redirects (Table~\ref{tbl:redirects}).
This is particularly important in our analysis when we analyze how many users visited a page, because we must follow the redirects to get the correct count.

\paragraph{Vandalism}
Wikipedia articles can be edited by anyone --- there is no credential checking.
Changes are visible to everyone immediately, without any review cycle.
This comes at a cost: \emph{vandalism}.
Vandalism may come in different forms: pages may be subject to malevolent edits, deletions or moves.
Priedhorsky et al.~\cite{Priedhorsky2007} studied this phenomenon and recommended policies that may help to mitigate the problem.
The paper shows some blatant examples of vandalism: for example, Adam Curry allegedly altered pages about the history of podcasting in order to promote his role and diminish that of others, Jeffrey Seigenthaler's article stated falsely for months that he was involved in the John F. Kennedy assassination, and the comedian Stephen Colbert has even conducted humorous tutorials on how to vandalize Wikipedia.

Wikipedia currently uses various techniques to reduce its impact.
Pages that are considered ``at risk'' are protected in a way that only some users can edit the content.
Furthermore, administrators can prevent contributors from editing pages by banning them.
This, however, can not solve the problem definitively because a contributor can change its IP address or create a new fake account.

%This is a serious problem for any analysis and requires some extra effort to reduce the impact it has in our results.

\begin{table}[]
\centering
\caption{Count of Wikipedia redirects as of 1/9/2015}
\label{tbl:redirects}
\begin{tabular}{llll}
\multicolumn{1}{c}{\textbf{}}          & \multicolumn{1}{c}{\textbf{\# Redirects}} & \multicolumn{1}{c}{\textbf{\# Pages}} & \textbf{Percentage} \\ \hline
\multicolumn{1}{l|}{All namespaces}    & 8350978                                & 37178009                               & 22,46\%             \\
\multicolumn{1}{l|}{Article namespace} & 7075838                                & 11941857                               & 59,25\%
\end{tabular}
\end{table}



\section{Wikimedia page view statistics}
\label{sec:pagecounts}
Back in 2007, Domas Mituzas, a long-time volunteer database administrator for the Wikimedia Foundation, started generating statistics about the views of Wikimedia projects.
These statistics are now maintained by the Analytics Team\footnote{\url{https://www.mediawiki.org/wiki/Analytics}}.
The dataset contains the number of non-unique visitors for each page for all the Wikimedia projects, aggregated by hour.

A detailed explanation of the dataset is given in Sect.~\ref{sec:pagecounts}.
Unfortunately this dataset needs a lot of cleaning and, in order to be used effectively, needs to be reordered, as described in Sect.~\ref{sub:Sorting pagecounts}.

\section{Microsoft Academic Service}
\label{sec:mag}
Microsoft Academic Search is an experimental research service developed by Microsoft Research to explore how scholars, scientists, students, and practitioners find academic content, researchers, institutions, and activities.
The service indexed 83 million papers at the time of the writing of its technical report~\cite{Sinha2015} and, according to the authors, it achieved an above-95\% accuracy.
The service can also display the key relationships between and among subjects, content, and authors, highlighting the critical links that help define scientific research.

For these reasons, we use this service in our analysis.
The dataset is available under the name of \ac{MAG}\footnote{\url{http://research.microsoft.com/en-us/projects/mag/}}.
It contains 120\,887\,833 papers at the time of writing and some of them date back to 1800.
It also contains the references (in term of citations) between them, which is something of great value.

Unfortunately this source is not 100\% accurate, and in Sect.~\ref{sec:mag_dataset} are described some of its problems.


\todo{Explain here the problems of this dataset}

% \section{Big data}
% \label{sec:bigdata}
%
% \todo{Explain what big data is.}
%
% The datasets used in our analysis belongs to the ``big data'' category.
% In fact, some of them are so large that a single processor machine can not analyze them in a reasonable time.
% For instance, as described in Sect.~\ref{sec:reordering_pagecounts}, the cleaning and reordering of page views could take years \todo{verify this} to complete on a single machine.
% To solve this problem, we make use of the UniTN Cisca cluster processing power to parallelize the task.
\section{Apache Spark}
The software developed in this work uses the Apache Spark framework to accelerate the computation of some datasets.
Apache Spark is an open source cluster computing framework originally developed in the AMPLab at University of California, Berkeley but was later donated to the Apache Software Foundation.
The basic building block of Spark is the \ac{RDD}, a logical collection of data partitioned across machines.
Spark includes various drivers to fetch data from different sources like databases (SQL and NO-SQL), HTTP, Amazon S3, HDFS, etc.
An \acs{RDD} can be created from various formats, such as \ac{CSV} files, or by applying transformation like \emph{map}, \emph{filter}, \emph{reduce} on other \acp{RDD}.

The value of Spark comes from the fact that transformations and other operations can be applied in parallel by multiple \emph{executors}.
An executor is a process spawned by a \emph{worker}, which is an instance of Spark running on a machine.
Furthermore, all the transformations are \emph{lazy} in that they don't compute the result right away.
Instead, they are computed only when needed: this design enables Spark to run more efficiently.
For example, it can realize that a dataset created through a \emph{map} will be used in a \emph{reduce} and return only the result of the reduce to the driver (i.e.\ the process running the application), rather than the larger mapped dataset.

One can run a Spark program on a single machine exploiting the available cores, but the real power of Spark comes when a cluster is available.
It is sufficient to start the cluster manager on the \emph{master} host and the worker on the \emph{slaves} to exploit the processing power of the whole cluster.
In the end, however, some tuning of the application is needed to make the most out of the available resources.
